<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- CUSTOMIZE: Change the page title -->
    <title>For you &lt;3</title>

    <!-- CUSTOMIZE: Update the favicon path/filename as needed -->
    <link
      rel="icon"
      type="image/png"
      href="./assets/favicon.png"
      sizes="32x32"
    />

    <!-- Link to your stylesheet - don't change unless you rename style.css -->
    <link rel="stylesheet" href="style.css" />

    <!-- CUSTOMIZE: You can add Google Fonts or other resources here -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <header>
        <!-- CUSTOMIZE: Change the header text -->
        <h1>For you &lt;3</h1>

        <div class="shrink-close-icons">
          <!-- CUSTOMIZE: Update icon paths/filenames as needed -->
          <img
            src="./assets/shrink-icon.png"
            alt="Shrink Icon"
            class="shrink-icon"
          />
          <img
            src="./assets/close-icon.png"
            alt="Close Icon"
            class="shrink-icon"
          />
        </div>
      </header>

      <div class="inner-container">
        <!-- The image is loaded via CSS from the --image-path-content variable -->
        <div class="image-content"></div>

        <!-- CUSTOMIZE: Change the button text -->
        <button id="main-button">Grow!</button>

        <!-- CUSTOMIZE: Change the final message text -->
        <div class="final-message">Have a good day Amel!</div>

        <audio
          id="bg-music"
          src="LANY - anything 4 u (official lyric video).mp3"
          loop
        ></audio>
      </div>
    </div>

    <!-- Link to your JavaScript - don't change unless you rename index.js -->
    <script src="index.js"></script>

    <script>
      const music = document.getElementById("bg-music");

      let playlist = [
        "Taylor Swift - Enchanted.mp3",
        "Taylor Swift  august (Official Lyric Video).mp3",
        "LANY - anything 4 u (official lyric video).mp3",
        "LANY - ILYSB (Official Lyric Video).mp3",
      ];

      // Fungsi shuffle (Fisher-Yates)
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      // Shuffle playlist di awal
      playlist = shuffleArray(playlist);

      let currentTrack = 0;

      function playTrack(index) {
        music.src = playlist[index];
        music.play().catch(() => {
          console.warn("Autoplay diblokir, pengguna harus klik untuk mulai");
        });
      }

      window.addEventListener("load", () => {
        playTrack(currentTrack);
      });

      music.addEventListener("ended", () => {
        currentTrack = (currentTrack + 1) % playlist.length;
        playTrack(currentTrack);
      });
    </script>
  </body>
</html>
